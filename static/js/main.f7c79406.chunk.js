(this.webpackJsonpusers=this.webpackJsonpusers||[]).push([[0],{42:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(12),s=n.n(a),i=n(7),d=n(30),o=n(3),u=n(6),l={people:[],displayPeople:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PEOPLE":return Object(u.a)(Object(u.a)({},e),{},{people:t.payload.people});case"LOAD_DISPLAY":return Object(u.a)(Object(u.a)({},e),{},{displayPeople:t.payload.displayPeople});default:return Object(u.a)({},e)}},b={gender:[],department:[],city:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_ITEM":return Object(u.a)(Object(u.a)({},e),{},{gender:t.payload.gender,department:t.payload.department,city:t.payload.city});default:return Object(u.a)({},e)}},O=Object(i.c)({people:j,checked:p}),f=(n(42),n(5)),h=n(18),g=n(20),m=n(19),x=n.n(m),v=n(32),y=n(33),E=n.n(y),N=function(){return function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://gist.githubusercontent.com/bunopus/f48fbb06578003fb521c7c1a54fd906a/raw/e5767c1e7f172c6375f064a9441f2edd57a79f15/test_users.json");case 2:n=e.sent,t({type:"FETCH_PEOPLE",payload:{people:n.data}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(e){return function(t){t({type:"LOAD_DISPLAY",payload:{displayPeople:e}})}},P=n(1),_=function(){var e=Object(o.b)();Object(c.useEffect)((function(){e(N())}),[e]);var t=Object(o.c)((function(e){return e.people})).people,n=Object(o.c)((function(e){return e.people})).displayPeople,r=function(e){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:e.name}),Object(P.jsx)("td",{children:e.age}),Object(P.jsx)("td",{children:e.gender}),Object(P.jsx)("td",{children:e.department}),Object(P.jsxs)("td",{className:"hide",children:[e.address.city,","," ",e.address.street]})]},e.id)},a=function(e,t,n,c){"asc"===t&&e.sort(n),"desc"===t&&e.sort(c)},s=function(c,r){var s=n.length?Object(f.a)(n):Object(f.a)(t),i=[];if("name"===c&&a(s,r,(function(e,t){return e.name>t.name?1:-1}),(function(e,t){return t.name>e.name?1:-1})),"age"===c&&a(s,r,(function(e,t){return e.age-t.age}),(function(e,t){return t.age-e.age})),"gender"===c||"department"===c){if(s.map((function(e){return i.includes(e[c])||i.push(e[c]),i})),i.length<=1)return null;a(s,r,(function(e,t){return e[c]>t[c]?1:-1}),(function(e,t){return t[c]>e[c]?1:-1}))}return"address"===c&&a(s,r,(function(e,t){return"".concat(e.address.city).concat(e.address.street)>"".concat(t.address.city).concat(t.address.street)?1:-1}),(function(e,t){return"".concat(t.address.city).concat(t.address.street)>"".concat(e.address.city).concat(e.address.street)?1:-1})),e(C(s)),null},i=function(e){return Object(P.jsxs)("div",{className:"button-group",children:[Object(P.jsx)("button",{type:"button",onClick:function(){return s(e,"asc")},"aria-label":"ascending",children:Object(P.jsx)(h.a,{icon:g.b})}),Object(P.jsx)("button",{type:"button",onClick:function(){return s(e,"desc")},"aria-label":"descending",children:Object(P.jsx)(h.a,{icon:g.a})})]})},d=function(e,t){return Object(P.jsx)("th",{children:Object(P.jsxs)("div",{className:"col-name",children:[Object(P.jsx)("p",{children:e}),i(t)]})})};return Object(P.jsx)(P.Fragment,{children:t.length?Object(P.jsx)("div",{className:"table-panel",children:Object(P.jsxs)("table",{children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[d("Name","name"),d("Age","age"),d("Gender","gender"),d("Department","department"),Object(P.jsx)("th",{className:"hide",children:Object(P.jsxs)("div",{className:"col-name",children:[Object(P.jsx)("p",{children:"Address"}),i("address")]})})]})}),Object(P.jsx)("tbody",{children:n.length?n.map((function(e){return r(e)})):t.map((function(e){return r(e)}))})]})}):""})},k=n(9),w=function(e,t,n){return function(c){c({type:"CHECK_ITEM",payload:{gender:e,department:t,city:n}})}},L=function(e){var t=e.v,n=e.num,r=e.property,a=Object(c.useState)(!1),s=Object(k.a)(a,2),i=s[0],d=s[1],u=Object(o.c)((function(e){return e.checked})),l=u.gender,j=u.department,b=u.city,p=Object(o.b)();Object(c.useEffect)((function(){p(N())}),[p]);var O=Object(o.c)((function(e){return e.people})).people,h=function(e){var t=e.target.value;d(!i),function(e){var t=Object(f.a)(O),n=Object(f.a)(l),c=Object(f.a)(j),a=Object(f.a)(b);i?("gender"===r&&(n=[]),"department"===r&&(c=[]),"address"===r&&(a=[])):("gender"===r&&n.push(e),"department"===r&&c.push(e),"address"===r&&a.push(e));var s=t.filter((function(e){return 0!==n.length&&e.gender!==n[0]||0!==c.length&&e.department!==c[0]||0!==a.length&&e.address.city!==a[0]?null:e}));p(w(n,c,a)),p(C(s))}(t)};return Object(P.jsxs)("label",{htmlFor:"checkbox-".concat(t.toLowerCase()),className:"filter-variant",children:[Object(P.jsx)("input",{type:"checkbox",name:"checkbox-".concat(t.toLowerCase()),id:"checkbox-".concat(t.toLowerCase()),value:t,onChange:function(e){return h(e)},onKeyDown:function(e){return h(e)},checked:i?"checked":""}),t," ","(",n,")"]},t)},F=function(){var e=Object(c.useState)([]),t=Object(k.a)(e,2),n=t[0],r=t[1],a=Object(o.b)();Object(c.useEffect)((function(){a(N())}),[a]);var s=Object(o.c)((function(e){return e.people})).people,i=Object(o.c)((function(e){return e.people})).displayPeople;Object(c.useEffect)((function(){return n.length===i.length?r(Object(f.a)(n)):r(Object(f.a)(i))}),[i]);var d=function(e,t){var n;return n="string"===typeof e[0][t]||"number"===typeof e[0][t]?e.reduce((function(e,n){var c=n[t];return c in e?e[c]+=1:e[c]=1,e}),{}):e.reduce((function(e,n){var c=n[t].city;return c in e?e[c]+=1:e[c]=1,e}),{}),Object.entries(n).map((function(e){var n=Object(k.a)(e,2),c=n[0],r=n[1];return Object(P.jsx)(L,{v:c,num:r,property:t},c)}))};return Object(P.jsx)(P.Fragment,{children:s.length?Object(P.jsxs)("div",{className:"filter-panel",children:[Object(P.jsx)("h3",{children:"Filter"}),Object(P.jsxs)("div",{className:"filters",children:[Object(P.jsx)("div",{className:"filter-item",children:n.length?d(n,"gender"):d(s,"gender")}),Object(P.jsx)("div",{className:"filter-item",children:n.length?d(n,"department"):d(s,"department")}),Object(P.jsx)("div",{className:"filter-item",children:n.length?d(n,"address"):d(s,"address")})]})]}):Object(P.jsx)("div",{className:"loading"})})};var D=function(){return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(F,{}),Object(P.jsx)(_,{})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,A=Object(i.e)(O,T(Object(i.a)(d.a)));s.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(o.a,{store:A,children:Object(P.jsx)(D,{})})}),document.getElementById("root")),S()}},[[64,1,2]]]);
//# sourceMappingURL=main.f7c79406.chunk.js.map