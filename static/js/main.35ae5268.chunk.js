(this.webpackJsonpusers=this.webpackJsonpusers||[]).push([[0],{42:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(14),s=n.n(a),i=n(9),d=n(30),o=n(3),l=n(8),u={people:[],displayPeople:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PEOPLE":return Object(l.a)(Object(l.a)({},e),{},{people:t.payload.people});case"LOAD_DISPLAY":return Object(l.a)(Object(l.a)({},e),{},{displayPeople:t.payload.displayPeople});default:return Object(l.a)({},e)}},b={gender:[],department:[],city:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_ITEM":return Object(l.a)(Object(l.a)({},e),{},{gender:t.payload.gender,department:t.payload.department,city:t.payload.city});default:return Object(l.a)({},e)}},O=Object(i.c)({people:j,checked:p}),h=(n(42),n(5)),f=n(6),g=n(7),m=n(20),x=n.n(m),v=n(32),y=n(33),k=n.n(y),N=function(){return function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://gist.githubusercontent.com/bunopus/f48fbb06578003fb521c7c1a54fd906a/raw/e5767c1e7f172c6375f064a9441f2edd57a79f15/test_users.json");case 2:n=e.sent,t({type:"FETCH_PEOPLE",payload:{people:n.data}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(e){return function(t){t({type:"LOAD_DISPLAY",payload:{displayPeople:e}})}},E=n(0),P=function(){var e=Object(o.b)();Object(c.useEffect)((function(){e(N())}),[e]);var t=Object(o.c)((function(e){return e.people})).people,n=Object(o.c)((function(e){return e.people})).displayPeople,r=function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.age}),Object(E.jsx)("td",{children:e.gender}),Object(E.jsx)("td",{children:e.department}),Object(E.jsxs)("td",{className:"hide",children:[e.address.city,","," ",e.address.street]})]},e.id)},a=function(c,r){var a=n.length?Object(h.a)(n):Object(h.a)(t),s=[];switch(c){case"age":"asc"===r&&a.sort((function(e,t){return e.age-t.age})),"desc"===r&&a.sort((function(e,t){return t.age-e.age}));break;case"name":"asc"===r&&a.sort((function(e,t){return e.name>t.name?1:-1})),"desc"===r&&a.sort((function(e,t){return t.name>e.name?1:-1}));break;case"gender":if(a.map((function(e){return s.includes(e.gender)||s.push(e.gender),s})),s.length<=1)return null;"asc"===r&&a.sort((function(e,t){return e.gender>t.gender?1:-1})),"desc"===r&&a.sort((function(e,t){return t.gender>e.gender?1:-1}));break;case"department":if(a.map((function(e){return s.includes(e.department)||s.push(e.department),s})),s.length<=1)return null;"asc"===r&&a.sort((function(e,t){return e.department>t.department?1:-1})),"desc"===r&&a.sort((function(e,t){return t.department>e.department?1:-1}));break;case"address":"asc"===r&&a.sort((function(e,t){return"".concat(e.address.city).concat(e.address.street)>"".concat(t.address.city).concat(t.address.street)?1:-1})),"desc"===r&&a.sort((function(e,t){return"".concat(t.address.city).concat(t.address.street)>"".concat(e.address.city).concat(e.address.street)?1:-1}));break;default:return Object(h.a)(a)}return e(C(a)),null};return Object(E.jsx)(E.Fragment,{children:t.length?Object(E.jsx)("div",{className:"table-panel",children:Object(E.jsxs)("table",{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:Object(E.jsxs)("div",{className:"col-name",children:[Object(E.jsx)("p",{children:"Name"}),Object(E.jsxs)("div",{className:"button-group",children:[Object(E.jsx)("button",{type:"button",onClick:function(){return a("name","asc")},"aria-label":"ascending",children:Object(E.jsx)(f.a,{icon:g.b})}),Object(E.jsx)("button",{type:"button",onClick:function(){return a("name","desc")},"aria-label":"descending",children:Object(E.jsx)(f.a,{icon:g.a})})]})]})}),Object(E.jsx)("th",{children:Object(E.jsxs)("div",{className:"col-name",children:[Object(E.jsx)("p",{children:"Age"}),Object(E.jsxs)("div",{className:"button-group",children:[Object(E.jsx)("button",{type:"button",onClick:function(){return a("age","asc")},"aria-label":"ascending",children:Object(E.jsx)(f.a,{icon:g.b})}),Object(E.jsx)("button",{type:"button",onClick:function(){return a("age","desc")},"aria-label":"descending",children:Object(E.jsx)(f.a,{icon:g.a})})]})]})}),Object(E.jsx)("th",{children:Object(E.jsxs)("div",{className:"col-name",children:[Object(E.jsx)("p",{children:"Gender"}),Object(E.jsxs)("div",{className:"button-group",children:[Object(E.jsx)("button",{type:"button",onClick:function(){return a("gender","asc")},"aria-label":"ascending",children:Object(E.jsx)(f.a,{icon:g.b})}),Object(E.jsx)("button",{type:"button",onClick:function(){return a("gender","desc")},"aria-label":"descending",children:Object(E.jsx)(f.a,{icon:g.a})})]})]})}),Object(E.jsx)("th",{children:Object(E.jsxs)("div",{className:"col-name",children:[Object(E.jsx)("p",{children:"Department"}),Object(E.jsxs)("div",{className:"button-group",children:[Object(E.jsx)("button",{type:"button",onClick:function(){return a("department","asc")},"aria-label":"ascending",children:Object(E.jsx)(f.a,{icon:g.b})}),Object(E.jsx)("button",{type:"button",onClick:function(){return a("department","desc")},"aria-label":"descending",children:Object(E.jsx)(f.a,{icon:g.a})})]})]})}),Object(E.jsx)("th",{className:"hide",children:Object(E.jsxs)("div",{className:"col-name",children:[Object(E.jsx)("p",{children:"Address"}),Object(E.jsxs)("div",{className:"button-group",children:[Object(E.jsx)("button",{type:"button",onClick:function(){return a("address","asc")},"aria-label":"ascending",children:Object(E.jsx)(f.a,{icon:g.b})}),Object(E.jsx)("button",{type:"button",onClick:function(){return a("address","desc")},"aria-label":"descending",children:Object(E.jsx)(f.a,{icon:g.a})})]})]})})]})}),Object(E.jsx)("tbody",{children:n.length?n.map((function(e){return r(e)})):t.map((function(e){return r(e)}))})]})}):Object(E.jsx)("div",{className:"loading"})})},_=n(11),w=function(e,t,n){return function(c){c({type:"CHECK_ITEM",payload:{gender:e,department:t,city:n}})}},F=function(e){var t=e.v,n=e.num,r=e.property,a=Object(c.useState)(!1),s=Object(_.a)(a,2),i=s[0],d=s[1],l=Object(o.c)((function(e){return e.checked})),u=l.gender,j=l.department,b=l.city,p=Object(o.b)();Object(c.useEffect)((function(){p(N())}),[p]);var O=Object(o.c)((function(e){return e.people})).people,f=function(e){var t=e.target.value;d(!i),function(e){var t=Object(h.a)(O),n=Object(h.a)(u),c=Object(h.a)(j),a=Object(h.a)(b);i?("gender"===r&&(n=[]),"department"===r&&(c=[]),"address"===r&&(a=[])):("gender"===r&&n.push(e),"department"===r&&c.push(e),"address"===r&&a.push(e));var s=t.filter((function(e){return 0!==n.length&&e.gender!==n[0]||0!==c.length&&e.department!==c[0]||0!==a.length&&e.address.city!==a[0]?null:e}));p(w(n,c,a)),p(C(s))}(t)};return Object(E.jsxs)("label",{htmlFor:"checkbox".concat(t),className:"filter-variant",children:[Object(E.jsx)("input",{type:"checkbox",name:"checkbox-".concat(t.toLowerCase()),value:t,onChange:function(e){return f(e)},onKeyDown:function(e){return f(e)},checked:i?"checked":""}),t," ","(",n,")"]},t)},L=function(){var e=Object(c.useState)([]),t=Object(_.a)(e,2),n=t[0],r=t[1],a=Object(o.b)();Object(c.useEffect)((function(){a(N())}),[a]);var s=Object(o.c)((function(e){return e.people})).people,i=Object(o.c)((function(e){return e.people})).displayPeople;Object(c.useEffect)((function(){return n.length===i.length?r(Object(h.a)(n)):r(Object(h.a)(i))}),[i]);var d=function(e,t){var n;return n="string"===typeof e[0][t]||"number"===typeof e[0][t]?e.reduce((function(e,n){var c=n[t];return c in e?e[c]+=1:e[c]=1,e}),{}):e.reduce((function(e,n){var c=n[t].city;return c in e?e[c]+=1:e[c]=1,e}),{}),Object.entries(n).map((function(e){var n=Object(_.a)(e,2),c=n[0],r=n[1];return Object(E.jsx)(F,{v:c,num:r,property:t},c)}))};return Object(E.jsx)(E.Fragment,{children:s.length?Object(E.jsxs)("div",{className:"filter-panel",children:[Object(E.jsx)("h3",{children:"Filter"}),Object(E.jsxs)("div",{className:"filters",children:[Object(E.jsx)("div",{className:"filter-item",children:n.length?d(n,"gender"):d(s,"gender")}),Object(E.jsx)("div",{className:"filter-item",children:n.length?d(n,"department"):d(s,"department")}),Object(E.jsx)("div",{className:"filter-item",children:n.length?d(n,"address"):d(s,"address")})]})]}):Object(E.jsx)("div",{className:"loading"})})};var D=function(){return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(L,{}),Object(E.jsx)(P,{})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,A=Object(i.e)(O,T(Object(i.a)(d.a)));s.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(o.a,{store:A,children:Object(E.jsx)(D,{})})}),document.getElementById("root")),S()}},[[64,1,2]]]);
//# sourceMappingURL=main.35ae5268.chunk.js.map