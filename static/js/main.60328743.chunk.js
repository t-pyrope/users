(this.webpackJsonpusers=this.webpackJsonpusers||[]).push([[0],{42:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(13),s=n.n(a),i=n(8),o=n(30),d=n(3),u=n(7),l={people:[],displayPeople:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PEOPLE":return Object(u.a)(Object(u.a)({},e),{},{people:t.payload.people});case"LOAD_DISPLAY":return Object(u.a)(Object(u.a)({},e),{},{displayPeople:t.payload.displayPeople});default:return Object(u.a)({},e)}},j={checkedItems:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_ITEM":return Object(u.a)(Object(u.a)({},e),{},{checkedItems:t.payload.checkedItems});default:return Object(u.a)({},e)}},O=Object(i.c)({people:b,checked:p}),f=(n(42),n(9)),h=n(5),x=n(6),g=n(20),m=n.n(g),v=n(32),y=n(33),k=n.n(y),C=function(){return function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://gist.githubusercontent.com/bunopus/f48fbb06578003fb521c7c1a54fd906a/raw/e5767c1e7f172c6375f064a9441f2edd57a79f15/test_users.json");case 2:n=e.sent,t({type:"FETCH_PEOPLE",payload:{people:n.data}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(e){return function(t){t({type:"LOAD_DISPLAY",payload:{displayPeople:e}})}},P=n(0),N=function(){var e=Object(d.b)();Object(c.useEffect)((function(){e(C())}),[e]);var t=Object(d.c)((function(e){return e.people})).people,n=Object(d.c)((function(e){return e.people})).displayPeople,r=function(e){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:e.name}),Object(P.jsx)("td",{children:e.age}),Object(P.jsx)("td",{children:e.gender}),Object(P.jsx)("td",{children:e.department}),Object(P.jsxs)("td",{className:"hide",children:[e.address.city,","," ",e.address.street]})]},e.id)},a=function(c,r){var a=n.length?Object(f.a)(n):Object(f.a)(t);switch(c){case"age":"asc"===r&&a.sort((function(e,t){return e.age-t.age})),"desc"===r&&a.sort((function(e,t){return t.age-e.age}));break;case"name":"asc"===r&&a.sort((function(e,t){return e.name>t.name?1:-1})),"desc"===r&&a.sort((function(e,t){return t.name>e.name?1:-1}));break;case"gender":"asc"===r&&a.sort((function(e,t){return e.gender>t.gender?1:-1})),"desc"===r&&a.sort((function(e,t){return t.gender>e.gender?1:-1}));break;case"department":"asc"===r&&a.sort((function(e,t){return e.department>t.department?1:-1})),"desc"===r&&a.sort((function(e,t){return t.department>e.department?1:-1}));break;case"address":"asc"===r&&a.sort((function(e,t){return"".concat(e.address.city).concat(e.address.street)>"".concat(t.address.city).concat(t.address.street)?1:-1})),"desc"===r&&a.sort((function(e,t){return"".concat(t.address.city).concat(t.address.street)>"".concat(e.address.city).concat(e.address.street)?1:-1}));break;default:return Object(f.a)(a)}return e(E(a)),null};return Object(P.jsx)(P.Fragment,{children:t.length?Object(P.jsx)("div",{className:"table-panel",children:Object(P.jsxs)("table",{children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsxs)("th",{children:["Name",Object(P.jsx)("button",{type:"button",onClick:function(){return a("name","asc")},"aria-label":"ascending",children:Object(P.jsx)(h.a,{icon:x.b})}),Object(P.jsx)("button",{type:"button",onClick:function(){return a("name","desc")},"aria-label":"descending",children:Object(P.jsx)(h.a,{icon:x.a})})]}),Object(P.jsxs)("th",{children:["Age",Object(P.jsx)("button",{type:"button",onClick:function(){return a("age","asc")},"aria-label":"ascending",children:Object(P.jsx)(h.a,{icon:x.b})}),Object(P.jsx)("button",{type:"button",onClick:function(){return a("age","desc")},"aria-label":"descending",children:Object(P.jsx)(h.a,{icon:x.a})})]}),Object(P.jsxs)("th",{children:["Gender",Object(P.jsx)("button",{type:"button",onClick:function(){return a("gender","asc")},"aria-label":"ascending",children:Object(P.jsx)(h.a,{icon:x.b})}),Object(P.jsx)("button",{type:"button",onClick:function(){return a("gender","desc")},"aria-label":"descending",children:Object(P.jsx)(h.a,{icon:x.a})})]}),Object(P.jsxs)("th",{children:["Department",Object(P.jsx)("button",{type:"button",onClick:function(){return a("department","asc")},"aria-label":"ascending",children:Object(P.jsx)(h.a,{icon:x.b})}),Object(P.jsx)("button",{type:"button",onClick:function(){return a("department","desc")},"aria-label":"descending",children:Object(P.jsx)(h.a,{icon:x.a})})]}),Object(P.jsxs)("th",{className:"hide",children:["Address",Object(P.jsx)("button",{type:"button",onClick:function(){return a("address","asc")},"aria-label":"ascending",children:Object(P.jsx)(h.a,{icon:x.b})}),Object(P.jsx)("button",{type:"button",onClick:function(){return a("address","desc")},"aria-label":"descending",children:Object(P.jsx)(h.a,{icon:x.a})})]})]})}),Object(P.jsx)("tbody",{children:n.length?n.map((function(e){return r(e)})):t.map((function(e){return r(e)}))})]})}):Object(P.jsx)("div",{className:"loading"})})},_=n(15),w=function(e){return function(t){t({type:"CHECK_ITEM",payload:{checkedItems:e}})}},I=function(e){var t=e.v,n=e.num,r=Object(c.useState)(!1),a=Object(_.a)(r,2),s=a[0],i=a[1],o=Object(d.c)((function(e){return e.checked})).checkedItems,u=Object(d.b)();Object(c.useEffect)((function(){u(C())}),[u]);var l=Object(d.c)((function(e){return e.people})).people,b=function(e){var t=e.target.value;i(!s),function(e){var t=Object(f.a)(l),n=Object(f.a)(o);if(s){var c=n.indexOf(e);n.splice(c,1)}else n.push(e);if(0===n.length)return u(w([])),void u(E(t));var r=[];t.map((function(e){return n.forEach((function(t){var n=Object.values(e);(n.includes(t)||n[5].city===t)&&r.push(e.id)})),null}));var a=r.reduce((function(e,t){return e[t]?e[t]+=1:e[t]=1,e}),{}),i=[];Object.keys(a).forEach((function(e){a[e]===n.length&&i.push(e)}));var d=[];t.map((function(e){return i.includes(e.id)&&d.push(e),null})),u(w(n)),u(E(d))}(t)};return Object(P.jsxs)("label",{htmlFor:"checkbox".concat(t),className:"filter-variant",children:[Object(P.jsx)("input",{type:"checkbox",name:"checkbox-".concat(t.toLowerCase()),value:t,onChange:function(e){return b(e)},onKeyDown:function(e){return b(e)},checked:s?"checked":""}),t," ","(",n,")"]},t)},F=function(){var e=Object(d.b)();Object(c.useEffect)((function(){e(C())}),[e]);var t=Object(d.c)((function(e){return e.people})).people,n=Object(d.c)((function(e){return e.people})).displayPeople,r=function(e,t){var n;return n="string"===typeof e[0][t]||"number"===typeof e[0][t]?e.reduce((function(e,n){var c=n[t];return c in e?e[c]+=1:e[c]=1,e}),{}):e.reduce((function(e,n){var c=n[t].city;return c in e?e[c]+=1:e[c]=1,e}),{}),Object.entries(n).map((function(e){var t=Object(_.a)(e,2),n=t[0],c=t[1];return Object(P.jsx)(I,{v:n,num:c},n)}))};return Object(P.jsx)(P.Fragment,{children:t.length&&Object(P.jsxs)("div",{className:"filter-panel",children:[Object(P.jsx)("h3",{children:"Filter"}),Object(P.jsxs)("div",{className:"filters",children:[Object(P.jsx)("div",{className:"filter-item",children:n.length?r(n,"gender"):r(t,"gender")}),Object(P.jsx)("div",{className:"filter-item",children:n.length?r(n,"department"):r(t,"department")}),Object(P.jsx)("div",{className:"filter-item",children:n.length?r(n,"address"):r(t,"address")})]})]})})};var L=function(){return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(F,{}),Object(P.jsx)(N,{})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,T=Object(i.e)(O,S(Object(i.a)(o.a)));s.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(d.a,{store:T,children:Object(P.jsx)(L,{})})}),document.getElementById("root")),D()}},[[64,1,2]]]);
//# sourceMappingURL=main.60328743.chunk.js.map